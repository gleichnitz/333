<!--
 Project: codePost
 Template for Administrator Page
 Authors: Ayyala, Evans, Freling, Kubiak, Leichnitz
 Date: May 2014
 //-->

{% extends "base_admin.html" %}

{% block head %}
    {{ super() }}
    <script src="../static/js/raphael-min.js"></script>
    <script src="../static/js/charts.min.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
{% endblock %}

{% block content %}
        <div id="page-content-wrapper" align=left>
            <div class="content-header">
                <h1>
                    <a id="menu-toggle" href="#" class="btn btn-default"><i class="icon-reorder"></i></a>
                    Admin Portal for {{course}}
                </h1>
            </div>
            </div>
            <!-- Keep all page content within the page-content inset div! -->
            <div class="page-content" style="margin-left: -20px; padding: 0 20px; margin-right: 10%; display: {{ areAssignments }}">
                <div class="row" style="margin-left: 0; margin-right: 10%;">
                    <div class="col-md-12">
                    </div>
                    <!-- <div id='chart1' style='width: 500px; height: 325px; margin-left: 50px;'></div> -->
                    <h4> Progress: Percent Graded </h4>
                        <div style="width: 100%; height: 250px; background-color: white; border-color: rgba(0, 0, 0, 0.1); border: 1px solid;">
                            {% for item in graph1_assignments %}
                                <div id='{{ item.name }}' style='width: 200px; height: 250px; margin-right: 25px; display: inline-block'></div>
                            {% endfor %}
                        </div>
                    <br>
                    <h4> Average Grade/Assignment </h4>
                        <div style="width: 100%; height: 300px; background-color: white; border-color: rgba(0, 0, 0, 0.1); border: 1px solid;">
                            <div id='chart6' style='width: 800px; height: 300px;'></div>
                        </div>
                    <br>
                    <h4> Grading History (past week): </h4>
                        <div style="width: 100%; height: 330px; background-color: white; border-color: rgba(0, 0, 0, 0.1); border: 1px solid; padding-top: 15px; margin-bottom: 20px;">
                            <div id='chart7' style='width: 800px; height: 300px;'></div>
                        </div>

                    <div id="highChart" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
                </div>
            </div>
            <div class="page-content" style="display: {{notAreAssignments}};">
                <h3>Looks like you haven't added any assignments!
                <br>
                <br>
                <a href='/admin/assignments' style="color: red;">Click here</a> to get started.</h3>
            </div>
        </div>

            <script type="text/javascript">
                /* var chart = new Charts.LineChart('chart1');
                chart.add_line({
                    data: [[1, 10],[2, 12],[3, 5],[4, 13],[5, 2],[6, 1],[7, 18]]
                }) */

                {% for item in graph1_assignments %}
                    var chart{{item.num}} = new Charts.CircleProgress('{{item.name}}', '{{item.name}}', {{item.percent_graded}});
                    chart{{item.num}}.draw()
                {% endfor %}

                var chartBar = new Charts.BarChart('chart6', {
                    x_label_color: "#333333",
                    bar_width: 80,
                    show_grid: true,
                    label_max: true,
                    label_min: true
                });

                {% for item in graph2_assignments %}
                chartBar.add({
                  label: "{{item.name}}",
                  value: {{item.avg_grade}}
                });
                {% endfor %}

                chartBar.draw();

                var chart7 = new Charts.LineChart('chart7', {
                    show_grid: true,
                    label_max: true,
                    label_min: true
                });

            chart7.add_line({
              data: [[1, 7],[2, 12], [3, 12], [4, 17], [5, 22]],

              // line level options passed here
              options: {
                line_color: "#00aadd"
              }
            });

                //chart.draw();
                chart7.draw();
            </script>
            <script type="text/javascript">
            $(function () {
            $('#highChart').highcharts({
            title: {
                text: 'Monthly Average Temperature',
                x: -20 //center
            },
            subtitle: {
                text: 'Source: WorldClimate.com',
                x: -20
            },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            },
            yAxis: {
                title: {
                    text: 'Temperature (°C)'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: '°C'
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{
                name: 'Tokyo',
                data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
            }, {
                name: 'New York',
                data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
            }, {
                name: 'Berlin',
                data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
            }, {
                name: 'London',
                data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
            }]
        });
    });
            </script>
{% endblock %}

{% block footer %}
    {{ super() }}
{% endblock %}

</html>
